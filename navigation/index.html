<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Interactive Fixed Navigation</title>
  <style>
    :root {
      --nav-height: 72px;
      --brand: #4f46e5; /* indigo-ish */
      --text: #0f172a;  /* slate-900 */
      --muted: #475569; /* slate-600 */
      --bg: #ffffff;
      --hover: #111827; /* gray-900 */
    }

    /* Reset-ish */
    *, *::before, *::after { box-sizing: border-box; }
    html, body { margin: 0; padding: 0; }
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; color: var(--text); line-height: 1.5; }
    a { text-decoration: none; color: inherit; }

    /* ===== Fixed Navbar ===== */
    .navbar {
      position: fixed;
      inset: 0 0 auto 0; /* top:0; left:0; right:0 */
      height: var(--nav-height);
      display: flex;
      align-items: center;
      z-index: 1000;
      transition: background 220ms ease, box-shadow 220ms ease, backdrop-filter 220ms ease, height 220ms ease;
      background: rgba(255,255,255,0.6);
      backdrop-filter: saturate(180%) blur(8px);
    }
    .navbar.scrolled {
      background: var(--bg);
      box-shadow: 0 6px 20px rgba(0,0,0,0.08);
    }

    .nav-inner {
      max-width: 1100px;
      margin: 0 auto;
      width: 100%;
      padding: 0 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .brand {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      font-weight: 700;
      letter-spacing: 0.2px;
    }
    .brand .dot {
      width: 10px; height: 10px; border-radius: 50%; background: var(--brand);
      box-shadow: 0 0 0 6px rgba(79,70,229,0.15);
    }

    /* Menu */
    .menu { display: flex; align-items: center; gap: 6px; }
    .menu a {
      display: inline-flex;
      align-items: center;
      padding: 8px 14px;
      border-radius: 999px;
      font-size: 0.95rem;
      color: var(--muted);
      transition: color 160ms ease, transform 160ms ease, background 160ms ease, box-shadow 160ms ease;
      position: relative;
      overflow: hidden;
    }
    /* Hover effect: subtle lift + pill highlight */
    .menu a::before {
      content: "";
      position: absolute; inset: 0;
      background: linear-gradient(90deg, rgba(79,70,229,0.12), rgba(79,70,229,0.08));
      opacity: 0; transition: opacity 160ms ease;
    }
    .menu a:hover {
      color: var(--hover);
      transform: translateY(-1px);
    }
    .menu a:hover::before { opacity: 1; }

    /* Active (current section / page) */
    .menu a.active {
      color: var(--brand);
      background: rgba(79,70,229,0.10);
      box-shadow: inset 0 0 0 1px rgba(79,70,229,0.25);
    }

    /* CTA button style */
    .menu .btn {
      font-weight: 600;
      color: white;
      background: var(--brand);
      box-shadow: 0 10px 20px rgba(79,70,229,0.25);
    }
    .menu .btn:hover { filter: brightness(0.95); }

    /* Mobile toggle */
    .toggle {
      display: none; background: transparent; border: 0; padding: 10px; cursor: pointer; border-radius: 12px;
    }
    .toggle:focus-visible { outline: 2px solid var(--brand); outline-offset: 4px; }
    .toggle svg { width: 28px; height: 28px; }

    /* Responsive */
    @media (max-width: 820px) {
      .menu { display: none; }
      .menu.open { display: flex; position: absolute; top: var(--nav-height); left: 0; right: 0; flex-direction: column; gap: 4px; background: var(--bg); padding: 12px; border-bottom: 1px solid rgba(0,0,0,0.06); }
      .menu a { padding: 10px 14px; }
      .toggle { display: inline-flex; align-items: center; justify-content: center; }
    }

    /* Page content just for demo */
    main { padding-top: calc(var(--nav-height) + 24px); }
    section { min-height: 80vh; padding: 28px 20px; display: grid; place-items: center; text-align: center; }
    .hero { min-height: 90vh; background: radial-gradient(1200px 500px at 80% -10%, rgba(79,70,229,0.25), transparent),
                               radial-gradient(1000px 500px at 0% 0%, rgba(16,185,129,0.18), transparent); }
    .card { max-width: 720px; background: #fff; border-radius: 24px; padding: 28px; box-shadow: 0 20px 60px rgba(0,0,0,0.08); }
    h1,h2 { margin: 0 0 10px; }
    p { margin: 0; color: var(--muted); }
  </style>
</head>
<body>
  <!-- Fixed, visible on all pages: put this header in your base layout/template -->
  <header class="navbar" role="banner">
    <div class="nav-inner">
      <a class="brand" href="#home" aria-label="Home">
        <span class="dot" aria-hidden="true"></span>
        <span>SiteName</span>
      </a>

      <nav aria-label="Primary">
        <button class="toggle" aria-expanded="false" aria-controls="primary-menu" aria-label="Toggle navigation">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
          </svg>
        </button>
        <div id="primary-menu" class="menu">
          <a href="#home">Home</a>
          <a href="#features">Features</a>
          <a href="#pricing">Pricing</a>
          <a href="#contact" class="btn">Contact</a>
        </div>
      </nav>
    </div>
  </header>

  <!-- Demo content -->
  <main>
    <section id="home" class="hero">
      <div class="card">
        <h1>Interactive Fixed Navigation</h1>
        <p>Hover any menu item to see the effect. Scroll to see the navbar style change.</p>
      </div>
    </section>
    <section id="features">
      <div class="card">
        <h2>Features</h2>
        <p>Fixed position 路 Scroll-reactive style 路 Hover animations 路 Mobile toggle 路 Active link syncing.</p>
      </div>
    </section>
    <section id="pricing">
      <div class="card">
        <h2>Pricing</h2>
        <p>This is just a demo section. Replace with your real content.</p>
      </div>
    </section>
    <section id="contact">
      <div class="card">
        <h2>Contact</h2>
        <p>Another demo section. The active link will update as you scroll.</p>
      </div>
    </section>
  </main>

  <script>
    // Scroll-based style change
    const navbar = document.querySelector('.navbar');
    const onScroll = () => {
      if (window.scrollY > 4) {
        navbar.classList.add('scrolled');
      } else {
        navbar.classList.remove('scrolled');
      }
    };
    document.addEventListener('scroll', onScroll, { passive: true });
    onScroll(); // initial

    // Mobile toggle
    const toggleBtn = document.querySelector('.toggle');
    const menu = document.getElementById('primary-menu');
    toggleBtn.addEventListener('click', () => {
      const open = menu.classList.toggle('open');
      toggleBtn.setAttribute('aria-expanded', String(open));
    });

    // Active link syncing with IntersectionObserver
    const links = Array.from(document.querySelectorAll('.menu a')).filter(a => a.getAttribute('href')?.startsWith('#'));
    const sections = links.map(a => document.querySelector(a.getAttribute('href'))).filter(Boolean);

    const setActive = (id) => {
      links.forEach(a => a.classList.toggle('active', a.getAttribute('href') === `#${id}`));
    };

    const io = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) setActive(entry.target.id);
      });
    }, { rootMargin: '-40% 0px -55% 0px', threshold: 0.01 });

    sections.forEach(sec => io.observe(sec));

    // Close mobile menu on navigation
    links.forEach(link => link.addEventListener('click', () => {
      if (menu.classList.contains('open')) {
        menu.classList.remove('open');
        toggleBtn.setAttribute('aria-expanded', 'false');
      }
    }));
  </script>
</body>
</html>
